const allPalettes = {
    2: [
        ["#60698a", "#5ab293"],
        ["#bde58d", "#957b18"],
        ["#0e3274", "#e9d9e8"],
        ["#5fc1df", "#425a25"],
        ["#ee0e35", "#91b7c8"],
        ["#110b5f", "#90f1ba"],
        ["#041f6c", "#a96c0e"],
        ["#14789a", "#0e3661"],
        ["#96c70f", "#d41a3c"],
        ["#a921ce", "#917047"],
        ["#001141", "#a0e996"],
        ["#c2f41d", "#008184"],
        ["#3c069a", "#b5d2bc"],
        ["#232f37", "#28804a"],
        ["#699119", "#41f652"],
        ["#b120a3", "#9e9438"],
        ["#9771c6", "#15ef5d"],
        ["#00467d", "#9ed8ef"],
        ["#db4d7c", "#cef3d0"],
        ["#fe147b", "#5cabd3"],
        ["#b98d69", "#8a174a"],
        ["#5d3ca8", "#ddb59c"],
        ["#653b5b", "#14ce6b"],
        ["#6317e3", "#0eb01a"],
        ["#9fc00a", "#c15b82"],
        ["#2519b9", "#f6e437"],
        ["#79d2da", "#8b09d3"],
        ["#f7d34a", "#250125"],
        ["#b02924", "#f47f13"],
        ["#d41667", "#e8ed11"],
        ["#a7cdb9", "#79964e"],
        ["#423074", "#4c73c9"],
        ["#f81213", "#d89f7c"],
        ["#2b4790", "#338d2e"],
        ["#9cdaad", "#411e3c"],
        ["#1fc732", "#7133ba"],
        ["#2dcb6a", "#353e61"],
        ["#6ec404", "#229238"],
        ["#05d94b", "#007b6c"],
        ["#2a3bed", "#1cd36e"],
        ["#38610e", "#d2da7f"],
        ["#7f1799", "#cb4674"],
        ["#88afca", "#b05f3d"],
        ["#d783d3", "#7f62b3"],
        ["#d026da", "#a1aa16"],
        ["#8f2978", "#36aca7"],
        ["#f9aba1", "#a17404"],
        ["#b66d7f", "#4744ef"],
        ["#bfeee0", "#3c9588"],
        ["#d0d9ce", "#896e10"],
        ["#d0baf2", "#8d0224"],
        ["#152b78", "#cf6222"],
        ["#b30bf1", "#fdd0ab"],
        ["#70fc2f", "#662484"],
        ["#251005", "#7f4c5a"],
        ["#c595f4", "#e0498c"],
        ["#a17ee3", "#0e4eb1"],
        ["#ea0e5f", "#43d02c"],
        ["#4389c2", "#28d7a5"],
        ["#73a479", "#750e8c"],
        ["#0f1c34", "#83e7ec"],
        ["#9455bc", "#0f361a"],
        ["#c7326b", "#f0c395"],
        ["#580bd1", "#ff56c8"],
        ["#ae387b", "#480963"],
        ["#086928", "#84af34"],
        ["#709a33", "#b5d1fa"],
        ["#bed629", "#028319"],
        ["#3cb6e9", "#4b7916"],
        ["#ac6615", "#1edbfa"],
        ["#85833c", "#f2c1b1"],
        ["#79375c", "#98fab5"],
        ["#dd5a89", "#4741f9"],
        ["#c72e6a", "#012b4c"],
        ["#e8d390", "#ea6467"],
        ["#c164dc", "#fc0122"],
        ["#56de7d", "#f05613"],
        ["#f85704", "#e9e0f4"],
        ["#af1b17", "#71c7c1"],
        ["#14f863", "#8c922c"],
        ["#252f70", "#c27ee4"],
        ["#255251", "#c2effa"],
        ["#37f9d2", "#b38412"],
        ["#a40608", "#56626f"],
        ["#2022f9", "#d0424e"],
        ["#80a78f", "#bc00ad"],
        ["#6d0adc", "#d5efce"],
        ["#3ba592", "#7106dd"],
        ["#13b0af", "#100658"],
        ["#1c3a18", "#498564"],
        ["#750a6a", "#f3ebf2"],
        ["#6dd1ce", "#8368d9"],
        ["#74b1c5", "#087132"],
        ["#7b37e5", "#0eba4b"],
        ["#4231b7", "#38f87a"],
        ["#041fbd", "#cfb46a"],
        ["#53bb96", "#c71526"],
        ["#976ef2", "#b5e261"],
        ["#140701", "#9ffb23"],
        ["#f9809b", "#31633a"]
    ],
    3: [
        ["#ffff2f", "#016347", "#6cb0a8"],
        ["#b7ceaf", "#3f6092", "#3a1537"],
        ["#54787f", "#deded5", "#414283"],
        ["#436e79", "#51d5bf", "#052c66"],
        ["#94f4ed", "#7b36a2", "#b68c9e"],
        ["#3f0460", "#f6c4e7", "#878294"],
        ["#ddb12f", "#bf29ae", "#331721"],
        ["#6fc05d", "#c54254", "#630227"],
        ["#ad4f15", "#d3a82b", "#681967"],
        ["#98390a", "#4ae60c", "#0a071a"],
        ["#11c724", "#bae0b0", "#050fa1"],
        ["#c14d01", "#fdf4fd", "#f660d7"],
        ["#212915", "#73665c", "#df953c"],
        ["#64bc1d", "#403750", "#d0eff5"],
        ["#6dacf9", "#e24273", "#28423d"],
        ["#6c2b07", "#a0f07a", "#14a6c6"],
        ["#2692a5", "#b0d3b8", "#940a02"],
        ["#aabe47", "#027ff8", "#66197e"],
        ["#4ba0f9", "#1a6e47", "#a0fd74"],
        ["#6e2678", "#010021", "#639bae"],
        ["#580c95", "#e0fea4", "#2d7e97"],
        ["#da2d5b", "#ea62cb", "#c9edff"],
        ["#747dbd", "#adc23c", "#c70626"],
        ["#562f93", "#5998d5", "#3ffa6c"],
        ["#7fdce0", "#964ad8", "#e48024"],
        ["#33e281", "#b14f7d", "#203973"],
        ["#3ee4b1", "#2e6b5e", "#2b0651"],
        ["#b6bd24", "#a409e6", "#56777e"],
        ["#53ac8e", "#216f89", "#c8ea84"],
        ["#7d0b8c", "#00e759", "#f62aa3"],
        ["#24489e", "#b39d6b", "#1d0a3d"],
        ["#45f29b", "#35475d", "#6c836c"],
        ["#c2ea33", "#26786e", "#a89f1c"],
        ["#62a267", "#0c495d", "#98e70e"],
        ["#7678e6", "#281c4c", "#9af0ec"],
        ["#a1f5d9", "#fc41f5", "#b22192"],
        ["#2d1f2e", "#8c6403", "#e394c6"],
        ["#1ba0b2", "#02ef9f", "#1a1804"],
        ["#8431ef", "#a8a5e6", "#efeed9"],
        ["#d293eb", "#3e4887", "#b16c44"],
        ["#ed8f9b", "#bf493c", "#bbfe40"],
        ["#5e39ed", "#2dfcc4", "#f66754"],
        ["#35db08", "#511d4d", "#468a58"],
        ["#8fa307", "#cb2657", "#d0e7e8"],
        ["#ef65c0", "#915f01", "#c5dd4b"],
        ["#3ff265", "#023c7d", "#b97d7a"],
        ["#e25543", "#6601bb", "#a1d7ac"],
        ["#7bb30d", "#e0fea8", "#1d6f66"],
        ["#345d06", "#14a917", "#89d1c6"],
        ["#d8e02e", "#59443d", "#0b082d"],
        ["#6e3495", "#d07b6b", "#bcf8ee"],
        ["#d83690", "#539ecb", "#191b3f"],
        ["#68efcd", "#760fc5", "#5593de"],
        ["#82280d", "#27f466", "#ba6cdf"],
        ["#9d9576", "#60299e", "#b3eb31"],
        ["#c0fd1f", "#9c670a", "#709aec"],
        ["#dc070f", "#fc7b33", "#7df0a4"],
        ["#3cd677", "#095915", "#2d90cd"],
        ["#6e6652", "#f37d29", "#3b1273"],
        ["#30127f", "#d9e201", "#5c934d"],
        ["#32484b", "#f8f1ab", "#3387e8"],
        ["#0bb259", "#2af779", "#5313f0"],
        ["#4e1fc1", "#079225", "#dae8b1"],
        ["#56b01b", "#4a362e", "#d3e72c"],
        ["#311a5c", "#ddd03e", "#dc7097"],
        ["#19db60", "#a83dd7", "#d0fedc"],
        ["#0abe58", "#4e6668", "#2002fd"],
        ["#c845b1", "#80cddc", "#6f1043"],
        ["#9eadf2", "#bc2a43", "#239693"],
        ["#ea592a", "#61c3a3", "#6719a3"],
        ["#64ada4", "#041785", "#3f40f3"],
        ["#290111", "#1ebde4", "#c44426"],
        ["#b4fc59", "#4705e7", "#c5603c"],
        ["#a2bf11", "#5748b0", "#52162a"],
        ["#db3e5f", "#1db3e2", "#f9f060"],
        ["#dae288", "#bf35d5", "#34a43f"],
        ["#cece6c", "#13a3f9", "#0b3145"],
        ["#206f8d", "#7d154f", "#01b8c5"],
        ["#64e928", "#bc2fa0", "#1c9b6e"],
        ["#6cabe2", "#b82662", "#e6f188"],
        ["#519c9b", "#713808", "#b8fac1"],
        ["#cc2bde", "#8ef44f", "#b58917"],
        ["#376ea8", "#b5a15e", "#abf6dc"],
        ["#3d31bb", "#f6affb", "#8e78f8"],
        ["#fb0492", "#e3d16b", "#7a89ee"],
        ["#d6a917", "#503b2a", "#5e67e2"],
        ["#66b5cb", "#0c4d66", "#320426"],
        ["#37f49b", "#1635bb", "#809575"],
        ["#3ba9df", "#6838a3", "#81ff0f"],
        ["#d04f7b", "#ebea50", "#211a3a"],
        ["#1aa0c0", "#200524", "#eac9ce"],
        ["#b39da8", "#633de2", "#111182"],
        ["#9d353e", "#b0affe", "#e9614f"],
        ["#30b56b", "#54311f", "#e5eea6"],
        ["#3453f6", "#19f708", "#7c9306"],
        ["#ddd457", "#5857fa", "#101577"],
        ["#dcf2bc", "#f37432", "#081292"],
        ["#068f70", "#d6e7b8", "#064a4e"],
        ["#a29ab6", "#092fcb", "#627133"],
        ["#a605d6", "#7ca81c", "#497c1c"]
    ],
    4: [
        ["#10bf31", "#a52a50", "#1e0413", "#a0fb86"],
        ["#7e41ce", "#4ff7b4", "#34a292", "#8b0220"],
        ["#df9c58", "#066a52", "#faf4cb", "#1414aa"],
        ["#1e1cfa", "#c6b7ba", "#25a645", "#486447"],
        ["#2c19d2", "#668c53", "#f6d38f", "#e120fc"],
        ["#890dd5", "#f97942", "#55fdf5", "#9f5d14"],
        ["#780ab1", "#dde780", "#78665a", "#80ae7c"],
        ["#567e97", "#90c3d2", "#372d7c", "#f5ffec"],
        ["#b6d062", "#fb1969", "#390422", "#3aa694"],
        ["#da71f5", "#7d331d", "#fedaf3", "#100230"],
        ["#82f317", "#8069fb", "#081830", "#aa333b"],
        ["#770b37", "#f37454", "#f4cf38", "#bd2cea"],
        ["#81b8db", "#138e16", "#690520", "#cbfff3"],
        ["#69fc32", "#9e8a96", "#0d31b2", "#2e7b3d"],
        ["#902277", "#4fe06d", "#c96f2e", "#0c0c0e"],
        ["#255c3f", "#4af983", "#ed778d", "#14080a"],
        ["#874394", "#11b2c9", "#16211a", "#cfe6b5"],
        ["#fc4276", "#27b9e7", "#511e15", "#aeec70"],
        ["#8e1242", "#aa8afc", "#bcebd7", "#e74577"],
        ["#ab2a6a", "#b4ea5c", "#2baa11", "#250c66"],
        ["#9181e2", "#9bd0cc", "#3d3ad5", "#1a007a"],
        ["#af34bd", "#00be9c", "#750042", "#d6eb94"],
        ["#af962d", "#040c5e", "#8345aa", "#8eeab6"],
        ["#073356", "#22745d", "#34ee82", "#b97da3"],
        ["#11d218", "#796e40", "#7c05ab", "#f8f9b6"],
        ["#ebf483", "#fa7fb8", "#9a5e56", "#f60d05"],
        ["#4de895", "#9b6975", "#334d26", "#080895"],
        ["#e1b074", "#4f317d", "#4e7d6a", "#1d0212"],
        ["#5f4a76", "#f6c682", "#bb7fba", "#240e53"],
        ["#f50d44", "#927a8e", "#6ce322", "#05036b"],
        ["#503e8b", "#4a74da", "#10db61", "#070730"],
        ["#3d7d04", "#2a1605", "#59fa1c", "#42b234"],
        ["#3f1daa", "#caafd9", "#2b667a", "#9b8a0c"],
        ["#eefcd8", "#09b137", "#491bf2", "#0fe1eb"],
        ["#eb7265", "#5a1f9f", "#f2d661", "#35771f"],
        ["#8cf84c", "#277b4c", "#71aa13", "#560a6b"],
        ["#0b01b9", "#636ce4", "#2ec1cc", "#005881"],
        ["#b4a0ea", "#c12b8a", "#420459", "#957b3f"],
        ["#4812c4", "#a5543e", "#43e61f", "#f0fdb9"],
        ["#30ef18", "#5b8763", "#6514e2", "#f7fcd5"],
        ["#f708ed", "#98e8e3", "#180141", "#a9824e"],
        ["#f1e71e", "#039c74", "#7f28c1", "#050b71"],
        ["#becde7", "#1903e4", "#9c8a13", "#2e6277"],
        ["#98592b", "#6badd9", "#f5ea53", "#3509a3"],
        ["#7b0900", "#9150fc", "#79f4af", "#4eb22b"],
        ["#efd69f", "#739707", "#8b3374", "#24045b"],
        ["#cb35ef", "#23f952", "#00356a", "#7d8d93"],
        ["#ce989f", "#0b181d", "#524634", "#368a50"],
        ["#2b1d03", "#6a58d8", "#fee89d", "#57aff7"],
        ["#cfddf7", "#69550b", "#081599", "#44a98d"],
        ["#635abf", "#541f4d", "#89b413", "#d9ecae"],
        ["#e7e8b9", "#4c10df", "#f1864b", "#975a3c"],
        ["#13db0a", "#2e567b", "#030596", "#cff0db"],
        ["#b4e85e", "#f41d41", "#df5aae", "#390f3e"],
        ["#871c1e", "#3b8c10", "#17d7df", "#fbfd69"],
        ["#b0f58a", "#8b3371", "#78aa51", "#50012c"],
        ["#c2536a", "#d1bc5e", "#5d021e", "#f6fffe"],
        ["#376ae2", "#3bcc93", "#420990", "#fef562"],
        ["#75c3c7", "#6b2eae", "#dd4ade", "#070f49"],
        ["#cfc7b3", "#3072a7", "#2c0196", "#18ba5a"],
        ["#5b9a85", "#ddc780", "#bc0384", "#9445f6"],
        ["#c66962", "#6ed36a", "#460174", "#7e3f1a"],
        ["#f2170f", "#25d7d3", "#6e8495", "#2e0b28"],
        ["#bb06c2", "#3ab145", "#c8bff8", "#5c7232"],
        ["#b079c2", "#3201be", "#22f929", "#3d6676"],
        ["#6212c7", "#23d9cf", "#538f48", "#f6fec2"],
        ["#890996", "#8b7212", "#45fcf8", "#76a5b6"],
        ["#481d95", "#d58341", "#307269", "#b6e693"],
        ["#3aa420", "#4b31f3", "#3dfa0e", "#3c0116"],
        ["#045f20", "#babec1", "#9b64c0", "#330193"],
        ["#7f1c37", "#f4d0b9", "#2a7ed6", "#b49d56"],
        ["#59f31b", "#fd3c02", "#4420a0", "#03a8f8"],
        ["#4d18c9", "#9d5417", "#18ef38", "#fdfeba"],
        ["#4d285d", "#f2fa8f", "#3e9f27", "#0fdce3"],
        ["#813dc1", "#93c4ee", "#648e6d", "#570972"],
        ["#91f12f", "#5f9a64", "#5259ca", "#23123a"],
        ["#bf8747", "#63e3a0", "#684aec", "#18253e"],
        ["#8130f5", "#0bdf07", "#cef7be", "#1a13b2"],
        ["#fea06e", "#907b4e", "#07115e", "#3d42eb"],
        ["#0d3d36", "#d6da82", "#6955a8", "#dd8072"],
        ["#5690d4", "#6e214f", "#7fdffd", "#5e6e01"],
        ["#dba66f", "#b9523e", "#593044", "#f8efc6"],
        ["#b65cc7", "#0d0914", "#fcae39", "#b22c17"],
        ["#61ad9d", "#d5edee", "#bb22d3", "#1a0c41"],
        ["#5333cb", "#dea423", "#b15d6a", "#081256"],
        ["#a16813", "#e3f55d", "#3cb7e3", "#242ee6"],
        ["#c1acd6", "#bc3c5b", "#cefffe", "#141126"],
        ["#c28872", "#eccf48", "#5a202e", "#8258c3"],
        ["#746b76", "#7e2b22", "#e4b47a", "#0f0602"],
        ["#30bdf2", "#3a72fa", "#ba0f92", "#d8ffa4"],
        ["#5c55c7", "#3c1719", "#a2dd36", "#7f8cac"],
        ["#46db19", "#435c70", "#cbf9c9", "#4a1918"],
        ["#10a056", "#2c0938", "#71d91b", "#056264"],
        ["#9a5b76", "#ede966", "#50354b", "#31b740"],
        ["#3e1623", "#f8d7e1", "#7598e5", "#be5046"],
        ["#5db922", "#c135ee", "#211a97", "#f9fc9d"],
        ["#f9fa18", "#55891d", "#2910e9", "#7dc14c"],
        ["#ecb0c8", "#1f63df", "#d27e07", "#430c7b"],
        ["#a26032", "#b8ba8e", "#1d1b8a", "#fcfdf9"],
        ["#f863ef", "#ca0d91", "#e6c8a7", "#19022c"] 
    ],
    5: [
        ["#071a02", "#7dbfff", "#4173e8", "#a82756", "#fefdac"],
        ["#943506", "#b19483", "#55f4e1", "#190d60", "#9e5e95"],
        ["#c42b28", "#ccaf38", "#f3ecf2", "#4379f6", "#0401ce"],
        ["#065c44", "#3ac19b", "#1e103f", "#c94cfc", "#defcfb"],
        ["#fd489b", "#f6fd5f", "#33033c", "#ff89d9", "#622eab"],
        ["#7f784e", "#daa9e8", "#4c2cdb", "#19062f", "#fffcf0"],
        ["#00126b", "#b4c916", "#d75492", "#ac18cd", "#eefdeb"],
        ["#787815", "#075830", "#5eacaa", "#f2fd54", "#3b043e"],
        ["#2316a6", "#c73385", "#93853a", "#55e328", "#fdfdb7"],
        ["#c3b920", "#4e574b", "#1f078f", "#8e72b7", "#f1fad6"],
        ["#38cfcf", "#7632a6", "#d56707", "#e5fd84", "#42035b"],
        ["#742a61", "#87b44f", "#a05d72", "#03091e", "#fbfe2e"],
        ["#2e6299", "#4ae253", "#19037b", "#d168d7", "#fefed0"],
        ["#10db14", "#582de3", "#289515", "#e9dcc7", "#150b5d"],
        ["#c26029", "#e5a809", "#9221ce", "#1f1136", "#d2f1e5"],
        ["#9cb282", "#f002ed", "#169e01", "#d1f4f5", "#080aca"],
        ["#c83c3e", "#c1bc3f", "#19a082", "#442628", "#effdfd"],
        ["#5a3173", "#4b7bae", "#f698a4", "#e5eff5", "#010307"],
        ["#96c235", "#484b87", "#e7faa2", "#189b53", "#131e49"],
        ["#8f8521", "#4139a4", "#c5b638", "#2c023d", "#f3fbd0"],
        ["#b2221d", "#028f60", "#a796b6", "#acf985", "#20090e"],
        ["#9c3a15", "#51d1d5", "#3a0259", "#468fa2", "#fdfbf1"],
        ["#403583", "#41c7a9", "#0c818f", "#f7fabe", "#1c020b"],
        ["#b1b790", "#85038e", "#6c81ce", "#e92e3a", "#e6fbe9"],
        ["#30bcb6", "#0d3ade", "#eff91b", "#328f12", "#0b010a"],
        ["#26887d", "#b1f042", "#1e0a30", "#cc2704", "#3cb4c7"],
        ["#73269f", "#4ad199", "#c06898", "#f1f9f4", "#060019"],
        ["#a2a293", "#971f7a", "#8bf2f6", "#eb5532", "#1d050e"],
        ["#73c1aa", "#e21dd4", "#441e05", "#638678", "#dafdc6"],
        ["#030f51", "#88c0eb", "#ab7a74", "#0267d1", "#fefadc"],
        ["#0c41b4", "#70cb8f", "#88833d", "#120338", "#f8f6e5"],
        ["#648e46", "#d5b39a", "#aa0eeb", "#20000a", "#ecfef0"],
        ["#94b2de", "#32092c", "#933819", "#7968ce", "#f3fb97"],
        ["#ed2403", "#f89398", "#1704c1", "#8a6eae", "#e5eaea"],
        ["#a72133", "#3ace6f", "#587b8d", "#f1e2d1", "#09012f"],
        ["#912950", "#d2ba2e", "#6584e1", "#1a0004", "#fafabc"],
        ["#1ae870", "#a767ca", "#1f12df", "#1d6270", "#efffeb"],
        ["#142826", "#15ed5d", "#41939f", "#6045f5", "#d6feff"],
        ["#63be9a", "#6f41a5", "#f9f2a7", "#3c1546", "#ae7335"],
        ["#ddb576", "#6d77e3", "#77042d", "#425387", "#fefef3"],
        ["#1fdfc0", "#fd2301", "#9968db", "#0c01d7", "#f2fdaf"],
        ["#fcd5a6", "#06bee9", "#75345e", "#190b2f", "#a257c3"],
        ["#33299a", "#e95feb", "#8ac5ad", "#2c6f6b", "#f7faf7"],
        ["#69bacf", "#206107", "#011001", "#cdf5a4", "#e2587d"],
        ["#a12d14", "#f29877", "#bc5b86", "#f9ee66", "#0a01bd"],
        ["#de1016", "#44dc50", "#fa3fb6", "#fff6d9", "#020714"],
        ["#32920c", "#33ceb5", "#3c30fd", "#07005a", "#e9fbcb"],
        ["#e5f9ee", "#e10798", "#6ac261", "#6c8264", "#200348"],
        ["#4108a7", "#ca97d6", "#5c4c41", "#aeff88", "#179b3d"],
        ["#7e304b", "#cfa667", "#876fd6", "#0a0d42", "#e5f4c9"],
        ["#b6b0c6", "#908544", "#930f23", "#d52bdd", "#f0fcab"],
        ["#4956cc", "#31d6d9", "#1f0f8c", "#89827f", "#defce7"],
        ["#3d5397", "#c2a4c2", "#1a131a", "#1991f8", "#d6f7cc"],
        ["#9ebf48", "#1b8af5", "#3d3673", "#f7ff37", "#04061c"],
        ["#47c3fe", "#2a0bb7", "#3a89d9", "#aa3673", "#d2f5ed"],
        ["#32e860", "#933fa3", "#330834", "#44a13a", "#f0fde7"],
        ["#24d0bb", "#70312c", "#f3473c", "#e7f886", "#1f002a"],
        ["#9cc305", "#6a8f08", "#c522a9", "#030658", "#f8fbd7"],
        ["#01eb52", "#627166", "#12091f", "#e7fac9", "#523f22"],
        ["#94f9e1", "#3a8f43", "#443ec2", "#89b096", "#051968"],
        ["#b4b5a4", "#446512", "#670a33", "#ee53eb", "#e8fcee"],
        ["#fbf8f0", "#274a03", "#b9a5b0", "#f73df4", "#11002f"],
        ["#c7af5c", "#5e4578", "#eefed7", "#5c0717", "#328bbd"],
        ["#74c0c7", "#ee4a8c", "#130d9c", "#eafadf", "#724016"],
        ["#92c0a4", "#994108", "#eb663a", "#000c33", "#fafc8e"],
        ["#d87d76", "#4a3754", "#ebf319", "#16001d", "#5b68a2"],
        ["#cdb57c", "#bd752f", "#5b424a", "#191901", "#f7fce2"],
        ["#8aad3a", "#5b4638", "#c0ecf3", "#1a07d6", "#c25c6f"],
        ["#0d8a90", "#89f66a", "#0e4f36", "#d68e78", "#040578"],
        ["#e38383", "#d41169", "#b9eeec", "#9654f7", "#010921"],
        ["#9455c2", "#a5194d", "#34e19c", "#1a0103", "#fef9f5"],
        ["#d4cffc", "#406cc0", "#742c42", "#34ac8c", "#08081d"],
        ["#37da59", "#368e4b", "#4f37c8", "#0e131a", "#effad4"],
        ["#46e427", "#743066", "#b16fb7", "#fcf7e7", "#05080c"],
        ["#adf3dc", "#0b5d72", "#bb55fb", "#04185b", "#9ead67"],
        ["#ea4d68", "#275106", "#fb7ed2", "#c2f98c", "#0a008d"],
        ["#36c023", "#452bb2", "#1a8425", "#5ff4f6", "#000103"],
        ["#e5b90e", "#525781", "#ad7c4d", "#071f31", "#f1f9f7"],
        ["#ce1b14", "#09d98e", "#4978f4", "#bbff3e", "#0302ab"],
        ["#67530f", "#1ae91f", "#339b23", "#12262d", "#d2fef2"],
        ["#862c21", "#fba730", "#448ea0", "#040113", "#b9fffd"],
        ["#0188d8", "#7c3094", "#aeb210", "#51070b", "#fffc13"],
        ["#f9e0d8", "#16bad8", "#ac1653", "#6a7102", "#000038"],
        ["#ae3223", "#89c10a", "#fef3de", "#060097", "#0a9e6a"],
        ["#493486", "#f5474d", "#9ceb70", "#cc7ec9", "#120444"],
        ["#464f38", "#6fcb46", "#260108", "#7f7a4d", "#cfffa7"],
        ["#1bc9fb", "#bc556b", "#093cf2", "#f5f1a8", "#0f072a"],
        ["#673219", "#23de17", "#646a9d", "#ceeafd", "#0a031a"],
        ["#542fb3", "#38c3be", "#f04a47", "#faf597", "#0f0915"],
        ["#95d43a", "#ec2170", "#926de4", "#800245", "#fbfefc"],
        ["#354025", "#30e73a", "#c360fe", "#f6ffcd", "#0e0037"],
        ["#942413", "#51b434", "#fbf2f3", "#a04bfe", "#060702"],
        ["#1041dc", "#21bc64", "#e1cde9", "#040b83", "#2a835f"],
        ["#c853ed", "#23e105", "#d11665", "#cafadb", "#0f026e"],
        ["#0c53f1", "#acc840", "#328d8c", "#041546", "#f5fdf2"],
        ["#8d2781", "#bdf26d", "#9f6c01", "#6aa998", "#150148"],
        ["#a7194a", "#b4a0ff", "#42952f", "#f2fed5", "#01030a"],
        ["#89021a", "#bf6783", "#e9a90c", "#5e439f", "#befeb7"],
        ["#2850d3", "#d2bd2d", "#0b1d5b", "#e6588f", "#fdfff4"],
        ["#c58e58", "#d20f62", "#aeeb65", "#8e57cf", "#170032"]
    ]
};

let currentNumColors = 2;
let currentPalette = [];

// Color conversion functions
function hexToRgb(hex) {
    hex = hex.replace(/^#/, '');
    return {
        r: parseInt(hex.substring(0, 2), 16),
        g: parseInt(hex.substring(2, 4), 16),
        b: parseInt(hex.substring(4, 6), 16)
    };
}

function rgbToHex(rgb) {
    return "#" + 
        Math.round(rgb.r).toString(16).padStart(2, '0') + 
        Math.round(rgb.g).toString(16).padStart(2, '0') + 
        Math.round(rgb.b).toString(16).padStart(2, '0');
}

function normalizeRgb(rgb) {
    return {
        r: rgb.r / 255.0,
        g: rgb.g / 255.0,
        b: rgb.b / 255.0
    };
}

function denormalizeRgb(rgb) {
    return {
        r: Math.min(255, Math.max(0, rgb.r * 255)),
        g: Math.min(255, Math.max(0, rgb.g * 255)),
        b: Math.min(255, Math.max(0, rgb.b * 255))
    };
}

function convertToProtanopia(hex) {
    const rgb = normalizeRgb(hexToRgb(hex));
    
    // Transformation matrix for protanopia (Machado et al.)
    const simMatrix = [
        [0.152286, 1.052583, -0.204868],
        [0.114503, 0.786281, 0.099216],
        [-0.003882, -0.048116, 1.051998]
    ];
    
    const simulatedRgb = {
        r: simMatrix[0][0] * rgb.r + simMatrix[0][1] * rgb.g + simMatrix[0][2] * rgb.b,
        g: simMatrix[1][0] * rgb.r + simMatrix[1][1] * rgb.g + simMatrix[1][2] * rgb.b,
        b: simMatrix[2][0] * rgb.r + simMatrix[2][1] * rgb.g + simMatrix[2][2] * rgb.b
    };
    
    return rgbToHex(denormalizeRgb(simulatedRgb));
}

function convertToDeuteranopia(hex) {
    const rgb = normalizeRgb(hexToRgb(hex));
    
    // Transformation matrix for deuteranopia (Machado et al.)
    const simMatrix = [
        [0.367322, 0.860646, -0.227968],
        [0.280085, 0.672501, 0.047413],
        [-0.011820, 0.042940, 0.968881]
    ];
    
    const simulatedRgb = {
        r: simMatrix[0][0] * rgb.r + simMatrix[0][1] * rgb.g + simMatrix[0][2] * rgb.b,
        g: simMatrix[1][0] * rgb.r + simMatrix[1][1] * rgb.g + simMatrix[1][2] * rgb.b,
        b: simMatrix[2][0] * rgb.r + simMatrix[2][1] * rgb.g + simMatrix[2][2] * rgb.b
    };
    
    return rgbToHex(denormalizeRgb(simulatedRgb));
}

function convertToTritanopia(hex) {
    const rgb = normalizeRgb(hexToRgb(hex));
    
    // Transformation matrix for tritanopia (Machado et al.)
    const simMatrix = [
        [1.255528, -0.076749, -0.178779],
        [-0.078411, 0.930809, 0.147602],
        [0.004733, 0.691367, 0.303900]
    ];
    
    const simulatedRgb = {
        r: simMatrix[0][0] * rgb.r + simMatrix[0][1] * rgb.g + simMatrix[0][2] * rgb.b,
        g: simMatrix[1][0] * rgb.r + simMatrix[1][1] * rgb.g + simMatrix[1][2] * rgb.b,
        b: simMatrix[2][0] * rgb.r + simMatrix[2][1] * rgb.g + simMatrix[2][2] * rgb.b
    };
    
    return rgbToHex(denormalizeRgb(simulatedRgb));
}

function convertToGreyScale(hex) {
    const rgb = hexToRgb(hex);
    const grey = Math.round(0.2126 * rgb.r + 0.7152 * rgb.g + 0.0722 * rgb.b);
    return `#${grey.toString(16).padStart(2, '0')}${grey.toString(16).padStart(2, '0')}${grey.toString(16).padStart(2, '0')}`;
}

// Get a random palette
function getRandomPalette(numColors) {
    const palettes = allPalettes[numColors];
    
    const randomIndex = Math.floor(Math.random() * palettes.length);
    console.log(`Palette chosen: index ${randomIndex} from ${palettes.length} palettes`);
    return palettes[randomIndex];
}

// Generate a random palette
function generateRandomPalette() {
    // Check if only one palette is available for the current number of colors
    if (allPalettes[currentNumColors] && allPalettes[currentNumColors].length <= 1) {
        console.log(`Random button disabled for ${currentNumColors}-color palettes`);
        // Still show the first palette for this number of colors
        currentPalette = allPalettes[currentNumColors][0];
        updateDisplays();
        return;
    }
    
    try {
        currentPalette = getRandomPalette(currentNumColors);
        updateDisplays();
        // Hide error message if all goes well
        document.getElementById('error-message').style.display = 'none';
    } catch (error) {
        console.error("Error generating random palette:", error);
        // Show error message
        document.getElementById('error-message').style.display = 'block';
    }
}

// Update the randomize button state
function updateRandomizeButtonState() {
    const randomButton = document.getElementById('random-palette');
    const infoMessage = document.getElementById('wip-message');
    
    if (allPalettes[currentNumColors] && allPalettes[currentNumColors].length <= 1) {
        // Disable the button
        randomButton.classList.add('disabled');
        // Show the message
        infoMessage.style.display = 'block';
        infoMessage.querySelector('p').textContent = `Palettes for ${currentNumColors} colors are limited. More palettes coming soon!`;
    } else {
        // Enable the button
        randomButton.classList.remove('disabled');
        // Hide the message
        infoMessage.style.display = 'none';
    }
}

// Update displays
function updateDisplays() {
    // Check if palette is valid
    if (!currentPalette || currentPalette.length === 0) {
        console.error("Empty or undefined palette");
        document.getElementById('error-message').style.display = 'block';
        return;
    }
    
    console.log("Updating displays with palette:", currentPalette);
    
    // Update color wheels
    updateColorWheel('normal-wheel', currentPalette);
    
    // For different vision types
    updateColorWheel('protanopia-wheel', currentPalette.map(convertToProtanopia));
    updateColorWheel('deuteranopia-wheel', currentPalette.map(convertToDeuteranopia));
    updateColorWheel('tritanopia-wheel', currentPalette.map(convertToTritanopia));
    updateColorWheel('grey-scale-wheel', currentPalette.map(convertToGreyScale));
    
    // Update HEX codes display
    document.getElementById('hex-codes').textContent = currentPalette.join(', ');
}

// Create color wheel segments
function updateColorWheel(wheelId, colors) {
    const wheel = document.getElementById(wheelId);
    if (!wheel) {
        console.error(`Element #${wheelId} not found`);
        return;
    }
    
    wheel.innerHTML = '';
    
    const numColors = colors.length;
    if (numColors === 0) {
        console.error("No colors provided for the wheel");
        return;
    }
    
    // Create SVG element for the wheel
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("width", "100%");
    svg.setAttribute("height", "100%");
    svg.setAttribute("viewBox", "0 0 100 100");
    svg.style.position = "absolute";
    svg.style.top = "0";
    svg.style.left = "0";
    
    // Create wheel segments with SVG
    const centerX = 50;
    const centerY = 50;
    const outerRadius = 50;
    const innerRadius = 20;  // For the center hole
    const angleStep = 360 / numColors;
    
    colors.forEach((color, i) => {
        // Check that the color is valid
        if (!color || color === "") {
            console.error(`Invalid color at index ${i}`);
            return;
        }
        
        const startAngle = i * angleStep;
        const endAngle = (i + 1) * angleStep;
        
        // Calculate SVG path points
        const startRad = (startAngle - 90) * Math.PI / 180;
        const endRad = (endAngle - 90) * Math.PI / 180;
        
        const x1 = centerX + innerRadius * Math.cos(startRad);
        const y1 = centerY + innerRadius * Math.sin(startRad);
        const x2 = centerX + outerRadius * Math.cos(startRad);
        const y2 = centerY + outerRadius * Math.sin(startRad);
        const x3 = centerX + outerRadius * Math.cos(endRad);
        const y3 = centerY + outerRadius * Math.sin(endRad);
        const x4 = centerX + innerRadius * Math.cos(endRad);
        const y4 = centerY + innerRadius * Math.sin(endRad);
        
        // Create SVG path for the segment
        const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
        const largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";
        
        const d = [
            `M ${x1},${y1}`,
            `L ${x2},${y2}`,
            `A ${outerRadius},${outerRadius} 0 ${largeArcFlag} 1 ${x3},${y3}`,
            `L ${x4},${y4}`,
            `A ${innerRadius},${innerRadius} 0 ${largeArcFlag} 0 ${x1},${y1}`,
            `Z`
        ].join(" ");
        
        path.setAttribute("d", d);
        path.setAttribute("fill", color);
        
        svg.appendChild(path);
    });
    
    // Add SVG to the wheel
    wheel.appendChild(svg);
}

// Event Listeners
// Copy HEX codes to clipboard without alerts
document.getElementById('copy-button').addEventListener('click', function() {
    const hexText = document.getElementById('hex-codes').textContent;
    navigator.clipboard.writeText(hexText).then(() => {
        // Subtle visual feedback instead of alert
        const button = this;
        const originalText = button.textContent;
        button.textContent = "COPIED!";
        button.style.backgroundColor = "#4CAF50"; // Green to indicate success
        
        // Return to original state after 1 second
        setTimeout(() => {
            button.textContent = originalText;
            button.style.backgroundColor = "";
        }, 1000);
    }).catch(err => {
        console.error('Error copying:', err);
        // Visual feedback for error, still no alert
        const button = this;
        button.textContent = "ERROR";
        button.style.backgroundColor = "#F44336"; // Red to indicate error
        
        // Return to original state after 1 second
        setTimeout(() => {
            button.textContent = "COPY";
            button.style.backgroundColor = "";
        }, 1000);
    });
});

// Change the number of colors
document.getElementById('color-selector').addEventListener('click', function() {
    // Cycle through available color numbers (2, 3, 4, 5)
    if (currentNumColors < 5) {
        currentNumColors++;
    } else {
        currentNumColors = 2;
    }
    this.textContent = `Number of colors : ${currentNumColors}`;
    
    // Update the random button state when changing color number
    updateRandomizeButtonState();
    
    generateRandomPalette();
});

// Generate a random palette on click
document.getElementById('random-palette').addEventListener('click', function() {
    // Only generate if the button is not disabled
    if (!this.classList.contains('disabled')) {
        generateRandomPalette();
    }
});

// Initialization
document.addEventListener('DOMContentLoaded', function() {
    console.log("Initializing application...");
    document.getElementById('color-selector').textContent = `Number of colors : ${currentNumColors}`;
    
    // Initial state of the random button
    updateRandomizeButtonState();
    
    generateRandomPalette();
}); 